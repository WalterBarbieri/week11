<div class="container mt-4">
  <h1 class="text-center">Reactive Forms</h1>
  <div class="container">
    <div class="row">
      <div class="col-12">
        <form [formGroup]="contenitoreForm">
          <div formGroupName="'userinfo">
            <div class="form-group">
              <label for="username">Username</label>
              <input type="text" id="username" class="form-control" formControlName="'username">
              <span *ngIf="getFormC('userinfo.username')?.invalid && getFormC('userinfo.username')?.touched">
                <ng-container *ngIf="getError('userinfo.username', 'required')">
                  Campo username obbligatorio
                </ng-container>
                <ng-container *ngIf="getError('userinfo.username', 'usernameProibiti')">
                  Username proibito
                </ng-container>
              </span>
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input type="text" id="email" class="form-control" formControlName="email">
              <span *ngIf="getFormC('userinfo.email')?.pending">Sto controllando...</span>
              <span *ngIf="getFormC('userinfo.email')?.invalid && getFormC('userinfo.email')?.touched">
                <ng-container *ngIf="getError('userinfo.email', 'required')">
                  Campo Email obbligatorio
                </ng-container>
                <ng-container *ngIf="getError('userinfo.email', 'email')">
                  Email non valida
                </ng-container>
              </span>
            </div>
          </div>
          <div class="radio" *ngFor="let genere of generi">
            <label>
              <input type="radio" formControlName="genere" [value]="genere">
            </label>
          </div>
          <div formArrayName="sports" class="mb-3">
            <h3>I miei sports</h3>
            <button type="button" class="btn btn-success" (click)="addSports()">Aggiungi Sport</button>
            <div class="form-group mb-2" *ngFor="let sport of getSportsF(); let i = index">
              <input type="text" class="form-control" [formControlName]="i">
            </div>
          </div>
          <button type="submit" (click)="submitForm()" class="btn btn-primary" [disabled]="contenitoreForm.invalid">Invia</button>
        </form>
      </div>
    </div>
  </div>
</div>
